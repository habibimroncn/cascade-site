
if(typeof jQuery!='undefined'){mejs.$=jQuery;}else if(typeof ender!='undefined'){mejs.$=ender;}
(function($){mejs.MepDefaults={poster:'',defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,audioWidth:-1,audioHeight:-1,startVolume:0.8,loop:false,enableAutosize:true,alwaysShowHours:false,showTimecodeFrameCount:false,framesPerSecond:24,autosizeProgress:true,alwaysShowControls:false,iPadUseNativeControls:false,iPhoneUseNativeControls:false,AndroidUseNativeControls:false,features:['playpause','current','progress','duration','tracks','volume','fullscreen'],isVideo:true,enableKeyboard:true,pauseOtherPlayers:true};mejs.mepIndex=0;mejs.players=[];mejs.MediaElementPlayer=function(node,o){if(!(this instanceof mejs.MediaElementPlayer)){return new mejs.MediaElementPlayer(node,o);}
var t=this;t.$media=t.$node=$(node);t.node=t.media=t.$media[0];if(typeof t.node.player!='undefined'){return t.node.player;}else{t.node.player=t;}
if(typeof o=='undefined'){o=t.$node.data('mejsoptions');}
t.options=$.extend({},mejs.MepDefaults,o);mejs.players.push(t);t.init();return t;};mejs.MediaElementPlayer.prototype={hasFocus:false,controlsAreVisible:true,init:function(){var
t=this,mf=mejs.MediaFeatures,meOptions=$.extend(true,{},t.options,{success:function(media,domNode){t.meReady(media,domNode);},error:function(e){t.handleError(e);}}),tagName=t.media.tagName.toLowerCase();t.isDynamic=(tagName!=='audio'&&tagName!=='video');if(t.isDynamic){t.isVideo=t.options.isVideo;}else{t.isVideo=(tagName!=='audio'&&t.options.isVideo);}
if((mf.isiPad&&t.options.iPadUseNativeControls)||(mf.isiPhone&&t.options.iPhoneUseNativeControls)){t.$media.attr('controls','controls');t.$media.removeAttr('poster');if(mf.isiPad&&t.media.getAttribute('autoplay')!==null){t.media.load();t.media.play();}}else if(mf.isAndroid&&t.AndroidUseNativeControls){}else{t.$media.removeAttr('controls');t.id='mep_'+mejs.mepIndex++;t.container=$('<div id="'+t.id+'" class="mejs-container">'+'<div class="mejs-inner">'+'<div class="mejs-mediaelement"></div>'+'<div class="mejs-layers"></div>'+'<div class="mejs-controls"></div>'+'<div class="mejs-clear"></div>'+'</div>'+'</div>').addClass(t.$media[0].className).insertBefore(t.$media);t.container.addClass((mf.isAndroid?'mejs-android ':'')+
(mf.isiOS?'mejs-ios ':'')+
(mf.isiPad?'mejs-ipad ':'')+
(mf.isiPhone?'mejs-iphone ':'')+
(t.isVideo?'mejs-video ':'mejs-audio '));if(mf.isiOS){var $newMedia=t.$media.clone();t.container.find('.mejs-mediaelement').append($newMedia);t.$media.remove();t.$node=t.$media=$newMedia;t.node=t.media=$newMedia[0];}else{t.container.find('.mejs-mediaelement').append(t.$media);}
t.controls=t.container.find('.mejs-controls');t.layers=t.container.find('.mejs-layers');var capsTagName=tagName.substring(0,1).toUpperCase()+tagName.substring(1);if(t.options[tagName+'Width']>0||t.options[tagName+'Width'].toString().indexOf('%')>-1){t.width=t.options[tagName+'Width'];}else if(t.media.style.width!==''&&t.media.style.width!==null){t.width=t.media.style.width;}else if(t.media.getAttribute('width')!==null){t.width=t.$media.attr('width');}else{t.width=t.options['default'+capsTagName+'Width'];}
if(t.options[tagName+'Height']>0||t.options[tagName+'Height'].toString().indexOf('%')>-1){t.height=t.options[tagName+'Height'];}else if(t.media.style.height!==''&&t.media.style.height!==null){t.height=t.media.style.height;}else if(t.$media[0].getAttribute('height')!==null){t.height=t.$media.attr('height');}else{t.height=t.options['default'+capsTagName+'Height'];}
t.setPlayerSize(t.width,t.height);meOptions.pluginWidth=t.height;meOptions.pluginHeight=t.width;}
mejs.MediaElement(t.$media[0],meOptions);},showControls:function(doAnimation){var t=this;doAnimation=typeof doAnimation=='undefined'||doAnimation;if(t.controlsAreVisible)
return;if(doAnimation){t.controls.css('visibility','visible').stop(true,true).fadeIn(200,function(){t.controlsAreVisible=true;});t.container.find('.mejs-control').css('visibility','visible').stop(true,true).fadeIn(200,function(){t.controlsAreVisible=true;});}else{t.controls.css('visibility','visible').css('display','block');t.container.find('.mejs-control').css('visibility','visible').css('display','block');t.controlsAreVisible=true;}
t.setControlsSize();},hideControls:function(doAnimation){var t=this;doAnimation=typeof doAnimation=='undefined'||doAnimation;if(!t.controlsAreVisible)
return;if(doAnimation){t.controls.stop(true,true).fadeOut(200,function(){$(this).css('visibility','hidden').css('display','block');t.controlsAreVisible=false;});t.container.find('.mejs-control').stop(true,true).fadeOut(200,function(){$(this).css('visibility','hidden').css('display','block');});}else{t.controls.css('visibility','hidden').css('display','block');t.container.find('.mejs-control').css('visibility','hidden').css('display','block');t.controlsAreVisible=false;}},controlsTimer:null,startControlsTimer:function(timeout){var t=this;timeout=typeof timeout!='undefined'?timeout:1500;t.killControlsTimer('start');t.controlsTimer=setTimeout(function(){t.hideControls();t.killControlsTimer('hide');},timeout);},killControlsTimer:function(src){var t=this;if(t.controlsTimer!==null){clearTimeout(t.controlsTimer);delete t.controlsTimer;t.controlsTimer=null;}},controlsEnabled:true,disableControls:function(){var t=this;t.killControlsTimer();t.hideControls(false);this.controlsEnabled=false;},enableControls:function(){var t=this;t.showControls(false);t.controlsEnabled=true;},meReady:function(media,domNode){var t=this,mf=mejs.MediaFeatures,autoplayAttr=domNode.getAttribute('autoplay'),autoplay=!(typeof autoplayAttr=='undefined'||autoplayAttr===null||autoplayAttr==='false'),featureIndex,feature;if(t.created)
return;else
t.created=true;t.media=media;t.domNode=domNode;if(!(mf.isAndroid&&t.options.AndroidUseNativeControls)&&!(mf.isiPad&&t.options.iPadUseNativeControls)&&!(mf.isiPhone&&t.options.iPhoneUseNativeControls)){t.buildposter(t,t.controls,t.layers,t.media);t.buildkeyboard(t,t.controls,t.layers,t.media);t.buildoverlays(t,t.controls,t.layers,t.media);t.findTracks();for(featureIndex in t.options.features){feature=t.options.features[featureIndex];if(t['build'+feature]){try{t['build'+feature](t,t.controls,t.layers,t.media);}catch(e){}}}
t.container.trigger('controlsready');t.setPlayerSize(t.width,t.height);t.setControlsSize();if(t.isVideo){if(mejs.MediaFeatures.hasTouch){t.$media.bind('touchstart',function(){if(t.controlsAreVisible){t.hideControls(false);}else{if(t.controlsEnabled){t.showControls(false);}}});}else{if(t.media.pluginType=='native'){t.$media.click(function(){if(media.paused){media.play();}else{media.pause();}});}else{$(t.media.pluginElement).click(function(){if(media.paused){media.play();}else{media.pause();}});}
t.container.bind('mouseenter mouseover',function(){if(t.controlsEnabled){if(!t.options.alwaysShowControls){t.killControlsTimer('enter');t.showControls();t.startControlsTimer(2500);}}}).bind('mousemove',function(){if(t.controlsEnabled){if(!t.controlsAreVisible){t.showControls();}
if(!t.options.alwaysShowControls){t.startControlsTimer(2500);}}}).bind('mouseleave',function(){if(t.controlsEnabled){if(!t.media.paused&&!t.options.alwaysShowControls){t.startControlsTimer(1000);}}});}
if(autoplay&&!t.options.alwaysShowControls){t.hideControls();}
if(t.options.enableAutosize){t.media.addEventListener('loadedmetadata',function(e){if(t.options.videoHeight<=0&&t.domNode.getAttribute('height')===null&&!isNaN(e.target.videoHeight)){t.setPlayerSize(e.target.videoWidth,e.target.videoHeight);t.setControlsSize();t.media.setVideoSize(e.target.videoWidth,e.target.videoHeight);}},false);}}
media.addEventListener('play',function(){for(var i=0,il=mejs.players.length;i<il;i++){var p=mejs.players[i];if(p.id!=t.id&&t.options.pauseOtherPlayers&&!p.paused&&!p.ended){p.pause();}
p.hasFocus=false;}
t.hasFocus=true;},false);t.media.addEventListener('ended',function(e){try{t.media.setCurrentTime(0);}catch(exp){}
t.media.pause();if(t.setProgressRail)
t.setProgressRail();if(t.setCurrentRail)
t.setCurrentRail();if(t.options.loop){t.media.play();}else if(!t.options.alwaysShowControls&&t.controlsEnabled){t.showControls();}},false);t.media.addEventListener('loadedmetadata',function(e){if(t.updateDuration){t.updateDuration();}
if(t.updateCurrent){t.updateCurrent();}
if(!t.isFullScreen){t.setPlayerSize(t.width,t.height);t.setControlsSize();}},false);setTimeout(function(){t.setPlayerSize(t.width,t.height);t.setControlsSize();},50);$(window).resize(function(){if(!(t.isFullScreen||(mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen))){t.setPlayerSize(t.width,t.height);}
t.setControlsSize();});if(t.media.pluginType=='youtube'){t.container.find('.mejs-overlay-play').hide();}}
if(autoplay&&media.pluginType=='native'){media.load();media.play();}
if(t.options.success){if(typeof t.options.success=='string'){window[t.options.success](t.media,t.domNode,t);}else{t.options.success(t.media,t.domNode,t);}}},handleError:function(e){var t=this;t.controls.hide();if(t.options.error){t.options.error(e);}},setPlayerSize:function(width,height){var t=this;if(t.height.toString().indexOf('%')>0){var
nativeWidth=(t.media.videoWidth&&t.media.videoWidth>0)?t.media.videoWidth:t.options.defaultVideoWidth,nativeHeight=(t.media.videoHeight&&t.media.videoHeight>0)?t.media.videoHeight:t.options.defaultVideoHeight,parentWidth=t.container.parent().width(),newHeight=parseInt(parentWidth*nativeHeight/nativeWidth,10);if(t.container.parent()[0].tagName.toLowerCase()==='body'){parentWidth=$(window).width();newHeight=$(window).height();}
t.container.width(parentWidth).height(newHeight);t.$media.width('100%').height('100%');t.container.find('object, embed, iframe').width('100%').height('100%');if(t.media.setVideoSize)
t.media.setVideoSize(parentWidth,newHeight);t.layers.children('.mejs-layer').width('100%').height('100%');}else{t.container.width(t.width).height(t.height);t.layers.children('.mejs-layer').width(t.width).height(t.height);}},setControlsSize:function(){var t=this,usedWidth=0,railWidth=0,rail=t.controls.find('.mejs-time-rail'),total=t.controls.find('.mejs-time-total'),current=t.controls.find('.mejs-time-current'),loaded=t.controls.find('.mejs-time-loaded');others=rail.siblings();if(t.options&&!t.options.autosizeProgress){railWidth=parseInt(rail.css('width'),10);}
if(railWidth===0||!railWidth){others.each(function(){if($(this).css('position')!='absolute'){usedWidth+=$(this).outerWidth(true);}});railWidth=t.controls.width()-usedWidth-(rail.outerWidth(true)-rail.outerWidth(false));}
rail.width(railWidth);total.width(railWidth-(total.outerWidth(true)-total.width()));if(t.setProgressRail)
t.setProgressRail();if(t.setCurrentRail)
t.setCurrentRail();},buildposter:function(player,controls,layers,media){var t=this,poster=$('<div class="mejs-poster mejs-layer">'+'</div>').appendTo(layers),posterUrl=player.$media.attr('poster');if(player.options.poster!==''){posterUrl=player.options.poster;}
if(posterUrl!==''&&posterUrl!=null){t.setPoster(posterUrl);}else{poster.hide();}
media.addEventListener('play',function(){poster.hide();},false);},setPoster:function(url){var t=this,posterDiv=t.container.find('.mejs-poster'),posterImg=posterDiv.find('img');if(posterImg.length==0){posterImg=$('<img width="100%" height="100%" />').appendTo(posterDiv);}
posterImg.attr('src',url);},buildoverlays:function(player,controls,layers,media){if(!player.isVideo)
return;var
loading=$('<div class="mejs-overlay mejs-layer">'+'<div class="mejs-overlay-loading"><span></span></div>'+'</div>').hide().appendTo(layers),error=$('<div class="mejs-overlay mejs-layer">'+'<div class="mejs-overlay-error"></div>'+'</div>').hide().appendTo(layers),bigPlay=$('<div class="mejs-overlay mejs-layer mejs-overlay-play">'+'<div class="mejs-overlay-button"></div>'+'</div>').appendTo(layers).click(function(){if(media.paused){media.play();}else{media.pause();}});media.addEventListener('play',function(){bigPlay.hide();loading.hide();error.hide();},false);media.addEventListener('playing',function(){bigPlay.hide();loading.hide();error.hide();},false);media.addEventListener('pause',function(){if(!mejs.MediaFeatures.isiPhone){bigPlay.show();}},false);media.addEventListener('waiting',function(){loading.show();},false);media.addEventListener('loadeddata',function(){loading.show();},false);media.addEventListener('canplay',function(){loading.hide();},false);media.addEventListener('error',function(){loading.hide();error.show();error.find('mejs-overlay-error').html("Error loading this resource");},false);},buildkeyboard:function(player,controls,layers,media){var t=this;$(document).keydown(function(e){if(player.hasFocus&&player.options.enableKeyboard){for(var i=0,il=player.options.keyActions.length;i<il;i++){var keyAction=player.options.keyActions[i];if(e.keyCode==keyAction.key){e.preventDefault();keyAction.action(player,media);return false;}}}
return true;});$(document).click(function(){if($(event.target).closest('.mejs-container').length==0){player.hasFocus=false;}});},findTracks:function(){var t=this,tracktags=t.$media.find('track');t.tracks=[];tracktags.each(function(){t.tracks.push({srclang:$(this).attr('srclang').toLowerCase(),src:$(this).attr('src'),kind:$(this).attr('kind'),entries:[],isLoaded:false});});},changeSkin:function(className){this.container[0].className='mejs-container '+className;this.setPlayerSize();this.setControlsSize();},play:function(){this.media.play();},pause:function(){this.media.pause();},load:function(){this.media.load();},setMuted:function(muted){this.media.setMuted(muted);},setCurrentTime:function(time){this.media.setCurrentTime(time);},getCurrentTime:function(){return this.media.currentTime;},setVolume:function(volume){this.media.setVolume(volume);},getVolume:function(){return this.media.volume;},setSrc:function(src){this.media.setSrc(src);},remove:function(){var t=this;if(t.media.pluginType=='flash'){t.media.remove();}else if(t.media.pluginTyp=='native'){t.media.prop('controls',true);};if(!t.isDynamic){t.$node.insertBefore(t.container);}
t.container.remove();}};if(typeof jQuery!='undefined'){jQuery.fn.mediaelementplayer=function(options){return this.each(function(){new mejs.MediaElementPlayer(this,options);});};}
$(document).ready(function(){$('.mejs-player').mediaelementplayer();});window.MediaElementPlayer=mejs.MediaElementPlayer;})(mejs.$);(function($){$.extend(mejs.MepDefaults,{playpauseText:'Play/Pause'});$.extend(MediaElementPlayer.prototype,{buildplaypause:function(player,controls,layers,media){var
t=this,play=$('<div class="mejs-button mejs-playpause-button mejs-play" >'+'<button type="button" aria-controls="'+t.id+'" title="'+t.options.playpauseText+'"></button>'+'</div>').appendTo(controls).click(function(e){e.preventDefault();if(media.paused){media.play();}else{media.pause();}
return false;});media.addEventListener('play',function(){play.removeClass('mejs-play').addClass('mejs-pause');},false);media.addEventListener('playing',function(){play.removeClass('mejs-play').addClass('mejs-pause');},false);media.addEventListener('pause',function(){play.removeClass('mejs-pause').addClass('mejs-play');},false);media.addEventListener('paused',function(){play.removeClass('mejs-pause').addClass('mejs-play');},false);}});})(mejs.$);(function($){$.extend(mejs.MepDefaults,{stopText:'Stop'});$.extend(MediaElementPlayer.prototype,{buildstop:function(player,controls,layers,media){var t=this,stop=$('<div class="mejs-button mejs-stop-button mejs-stop">'+'<button type="button" aria-controls="'+t.id+'" title="'+t.options.stopText+'></button>'+'</div>').appendTo(controls).click(function(){if(!media.paused){media.pause();}
if(media.currentTime>0){media.setCurrentTime(0);controls.find('.mejs-time-current').width('0px');controls.find('.mejs-time-handle').css('left','0px');controls.find('.mejs-time-float-current').html(mejs.Utility.secondsToTimeCode(0));controls.find('.mejs-currenttime').html(mejs.Utility.secondsToTimeCode(0));layers.find('.mejs-poster').show();}});}});})(mejs.$);(function($){$.extend(MediaElementPlayer.prototype,{buildprogress:function(player,controls,layers,media){$('<div class="mejs-time-rail">'+'<span class="mejs-time-total">'+'<span class="mejs-time-loaded"></span>'+'<span class="mejs-time-current"></span>'+'<span class="mejs-time-handle"></span>'+'<span class="mejs-time-float">'+'<span class="mejs-time-float-current">00:00</span>'+'<span class="mejs-time-float-corner"></span>'+'</span>'+'</span>'+'</div>').appendTo(controls);var
t=this,total=controls.find('.mejs-time-total'),loaded=controls.find('.mejs-time-loaded'),current=controls.find('.mejs-time-current'),handle=controls.find('.mejs-time-handle'),timefloat=controls.find('.mejs-time-float'),timefloatcurrent=controls.find('.mejs-time-float-current'),handleMouseMove=function(e){var x=e.pageX,offset=total.offset(),width=total.outerWidth(),percentage=0,newTime=0;if(x>offset.left&&x<=width+offset.left&&media.duration){percentage=((x-offset.left)/width);newTime=(percentage<=0.02)?0:percentage*media.duration;if(mouseIsDown){media.setCurrentTime(newTime);}
var pos=x-offset.left;timefloat.css('left',pos);timefloatcurrent.html(mejs.Utility.secondsToTimeCode(newTime));}},mouseIsDown=false,mouseIsOver=false;total.bind('mousedown',function(e){if(e.which===1){mouseIsDown=true;handleMouseMove(e);return false;}});controls.find('.mejs-time-total').bind('mouseenter',function(e){mouseIsOver=true;}).bind('mouseleave',function(e){mouseIsOver=false;});$(document).bind('mouseup',function(e){mouseIsDown=false;}).bind('mousemove',function(e){if(mouseIsDown||mouseIsOver){handleMouseMove(e);}});media.addEventListener('progress',function(e){player.setProgressRail(e);player.setCurrentRail(e);},false);media.addEventListener('timeupdate',function(e){player.setProgressRail(e);player.setCurrentRail(e);},false);t.loaded=loaded;t.total=total;t.current=current;t.handle=handle;},setProgressRail:function(e){var
t=this,target=(e!=undefined)?e.target:t.media,percent=null;if(target&&target.buffered&&target.buffered.length>0&&target.buffered.end&&target.duration){percent=target.buffered.end(0)/target.duration;}
else if(target&&target.bytesTotal!=undefined&&target.bytesTotal>0&&target.bufferedBytes!=undefined){percent=target.bufferedBytes/target.bytesTotal;}
else if(e&&e.lengthComputable&&e.total!=0){percent=e.loaded/e.total;}
if(percent!==null){percent=Math.min(1,Math.max(0,percent));if(t.loaded&&t.total){t.loaded.width(t.total.width()*percent);}}},setCurrentRail:function(){var t=this;if(t.media.currentTime!=undefined&&t.media.duration){if(t.total&&t.handle){var
newWidth=t.total.width()*t.media.currentTime/t.media.duration,handlePos=newWidth-(t.handle.outerWidth(true)/2);t.current.width(newWidth);t.handle.css('left',handlePos);}}}});})(mejs.$);(function($){$.extend(mejs.MepDefaults,{duration:-1});$.extend(MediaElementPlayer.prototype,{buildcurrent:function(player,controls,layers,media){var t=this;$('<div class="mejs-time">'+'<span class="mejs-currenttime">'+(player.options.alwaysShowHours?'00:':'')
+(player.options.showTimecodeFrameCount?'00:00:00':'00:00')+'</span>'+'</div>').appendTo(controls);t.currenttime=t.controls.find('.mejs-currenttime');media.addEventListener('timeupdate',function(){player.updateCurrent();},false);},buildduration:function(player,controls,layers,media){var t=this;if(controls.children().last().find('.mejs-currenttime').length>0){$(' <span> | </span> '+'<span class="mejs-duration">'+
(t.options.duration>0?mejs.Utility.secondsToTimeCode(t.options.duration,t.options.alwaysShowHours||t.media.duration>3600,t.options.showTimecodeFrameCount,t.options.framesPerSecond||25):((player.options.alwaysShowHours?'00:':'')+(player.options.showTimecodeFrameCount?'00:00:00':'00:00')))+'</span>').appendTo(controls.find('.mejs-time'));}else{controls.find('.mejs-currenttime').parent().addClass('mejs-currenttime-container');$('<div class="mejs-time mejs-duration-container">'+'<span class="mejs-duration">'+
(t.options.duration>0?mejs.Utility.secondsToTimeCode(t.options.duration,t.options.alwaysShowHours||t.media.duration>3600,t.options.showTimecodeFrameCount,t.options.framesPerSecond||25):((player.options.alwaysShowHours?'00:':'')+(player.options.showTimecodeFrameCount?'00:00:00':'00:00')))+'</span>'+'</div>').appendTo(controls);}
t.durationD=t.controls.find('.mejs-duration');media.addEventListener('timeupdate',function(){player.updateDuration();},false);},updateCurrent:function(){var t=this;if(t.currenttime){t.currenttime.html(mejs.Utility.secondsToTimeCode(t.media.currentTime,t.options.alwaysShowHours||t.media.duration>3600,t.options.showTimecodeFrameCount,t.options.framesPerSecond||25));}},updateDuration:function(){var t=this;if(t.media.duration&&t.durationD){t.durationD.html(mejs.Utility.secondsToTimeCode(t.media.duration,t.options.alwaysShowHours,t.options.showTimecodeFrameCount,t.options.framesPerSecond||25));}}});})(mejs.$);(function($){$.extend(mejs.MepDefaults,{muteText:'Mute Toggle',hideVolumeOnTouchDevices:true});$.extend(MediaElementPlayer.prototype,{buildvolume:function(player,controls,layers,media){if(mejs.MediaFeatures.hasTouch&&this.options.hideVolumeOnTouchDevices)
return;var t=this,mute=$('<div class="mejs-button mejs-volume-button mejs-mute">'+'<button type="button" aria-controls="'+t.id+'" title="'+t.options.muteText+'"></button>'+'<div class="mejs-volume-slider">'+'<div class="mejs-volume-total"></div>'+'<div class="mejs-volume-current"></div>'+'<div class="mejs-volume-handle"></div>'+'</div>'+'</div>').appendTo(controls),volumeSlider=mute.find('.mejs-volume-slider'),volumeTotal=mute.find('.mejs-volume-total'),volumeCurrent=mute.find('.mejs-volume-current'),volumeHandle=mute.find('.mejs-volume-handle'),positionVolumeHandle=function(volume){if(!volumeSlider.is(':visible')){volumeSlider.show();positionVolumeHandle(volume);volumeSlider.hide();return;}
var
totalHeight=volumeTotal.height(),totalPosition=volumeTotal.position(),newTop=totalHeight-(totalHeight*volume);volumeHandle.css('top',totalPosition.top+newTop-(volumeHandle.height()/2));volumeCurrent.height(totalHeight-newTop);volumeCurrent.css('top',totalPosition.top+newTop);},handleVolumeMove=function(e){var
railHeight=volumeTotal.height(),totalOffset=volumeTotal.offset(),totalTop=parseInt(volumeTotal.css('top').replace(/px/,''),10),newY=e.pageY-totalOffset.top,volume=(railHeight-newY)/railHeight;if(totalOffset.top==0)
return;volume=Math.max(0,volume);volume=Math.min(volume,1);if(newY<0)
newY=0;else if(newY>railHeight)
newY=railHeight;volumeHandle.css('top',newY-(volumeHandle.height()/2)+totalTop);volumeCurrent.height(railHeight-newY);volumeCurrent.css('top',newY+totalTop);if(volume==0){media.setMuted(true);mute.removeClass('mejs-mute').addClass('mejs-unmute');}else{media.setMuted(false);mute.removeClass('mejs-unmute').addClass('mejs-mute');}
volume=Math.max(0,volume);volume=Math.min(volume,1);media.setVolume(volume);},mouseIsDown=false;mute.hover(function(){volumeSlider.show();},function(){volumeSlider.hide();});volumeSlider.bind('mousedown',function(e){handleVolumeMove(e);mouseIsDown=true;return false;});$(document).bind('mouseup',function(e){mouseIsDown=false;}).bind('mousemove',function(e){if(mouseIsDown){handleVolumeMove(e);}});mute.find('button').click(function(){media.setMuted(!media.muted);});media.addEventListener('volumechange',function(e){if(!mouseIsDown){if(media.muted){positionVolumeHandle(0);mute.removeClass('mejs-mute').addClass('mejs-unmute');}else{positionVolumeHandle(media.volume);mute.removeClass('mejs-unmute').addClass('mejs-mute');}}},false);positionVolumeHandle(player.options.startVolume);if(media.pluginType==='native'){media.setVolume(player.options.startVolume);}}});})(mejs.$);(function($){$.extend(mejs.MepDefaults,{forcePluginFullScreen:false,newWindowCallback:function(){return'';},fullscreenText:'Fullscreen'});$.extend(MediaElementPlayer.prototype,{isFullScreen:false,isNativeFullScreen:false,docStyleOverflow:null,isInIframe:false,buildfullscreen:function(player,controls,layers,media){if(!player.isVideo)
return;player.isInIframe=(window.location!=window.parent.location);if(mejs.MediaFeatures.hasTrueNativeFullScreen){player.container.bind(mejs.MediaFeatures.fullScreenEventName,function(e){if(mejs.MediaFeatures.isFullScreen()){player.isNativeFullScreen=true;player.setControlsSize();}else{player.isNativeFullScreen=false;player.exitFullScreen();}});}
var t=this,normalHeight=0,normalWidth=0,container=player.container,fullscreenBtn=$('<div class="mejs-button mejs-fullscreen-button">'+'<button type="button" aria-controls="'+t.id+'" title="'+t.options.fullscreenText+'"></button>'+'</div>').appendTo(controls).click(function(){var isFullScreen=(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen())||player.isFullScreen;if(isFullScreen){player.exitFullScreen();}else{player.enterFullScreen();}});player.fullscreenBtn=fullscreenBtn;$(document).bind('keydown',function(e){if(((mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen())||t.isFullScreen)&&e.keyCode==27){player.exitFullScreen();}});},enterFullScreen:function(){var t=this;if(t.media.pluginType!=='native'&&(mejs.MediaFeatures.isGecko||t.options.forcePluginFullScreen)){t.media.setFullscreen(true);return;}
docStyleOverflow=document.documentElement.style.overflow;document.documentElement.style.overflow='hidden';normalHeight=t.container.height();normalWidth=t.container.width();if(mejs.MediaFeatures.hasTrueNativeFullScreen){mejs.MediaFeatures.requestFullScreen(t.container[0]);}else if(mejs.MediaFeatures.hasSemiNativeFullScreen){t.media.webkitEnterFullscreen();return;}
if(t.isInIframe){var url=t.options.newWindowCallback(this);if(url!==''){if(!mejs.MediaFeatures.hasTrueNativeFullScreen){t.pause();window.open(url,t.id,'top=0,left=0,width='+screen.availWidth+',height='+screen.availHeight+',resizable=yes,scrollbars=no,status=no,toolbar=no');return;}else{setTimeout(function(){if(!t.isNativeFullScreen){t.pause();window.open(url,t.id,'top=0,left=0,width='+screen.availWidth+',height='+screen.availHeight+',resizable=yes,scrollbars=no,status=no,toolbar=no');}},250);}}}
t.container.addClass('mejs-container-fullscreen').width('100%').height('100%');if(mejs.MediaFeatures.hasTrueNativeFullScreen){setTimeout(function(){t.container.css({width:'100%',height:'100%'});},500);}
if(t.pluginType==='native'){t.$media.width('100%').height('100%');}else{t.container.find('object, embed, iframe').width('100%').height('100%');if(!mejs.MediaFeatures.hasTrueNativeFullScreen){t.media.setVideoSize($(window).width(),$(window).height());}}
t.layers.children('div').width('100%').height('100%');if(t.fullscreenBtn){t.fullscreenBtn.removeClass('mejs-fullscreen').addClass('mejs-unfullscreen');}
t.setControlsSize();t.isFullScreen=true;},exitFullScreen:function(){var t=this;if(t.media.pluginType!=='native'&&mejs.MediaFeatures.isFirefox){t.media.setFullscreen(false);return;}
if(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||t.isFullScreen)){mejs.MediaFeatures.cancelFullScreen();}
document.documentElement.style.overflow=docStyleOverflow;t.container.removeClass('mejs-container-fullscreen').width(normalWidth).height(normalHeight);if(t.pluginType==='native'){t.$media.width(normalWidth).height(normalHeight);}else{t.container.find('object embed').width(normalWidth).height(normalHeight);t.media.setVideoSize(normalWidth,normalHeight);}
t.layers.children('div').width(normalWidth).height(normalHeight);t.fullscreenBtn.removeClass('mejs-unfullscreen').addClass('mejs-fullscreen');t.setControlsSize();t.isFullScreen=false;}});})(mejs.$);(function($){$.extend(mejs.MepDefaults,{startLanguage:'',translations:[],translationSelector:false,googleApiKey:'',tracksText:'Captions/Subtitles'});$.extend(MediaElementPlayer.prototype,{hasChapters:false,buildtracks:function(player,controls,layers,media){if(!player.isVideo)
return;if(player.tracks.length==0)
return;var t=this,i,options='';player.chapters=$('<div class="mejs-chapters mejs-layer"></div>').prependTo(layers).hide();player.captions=$('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position"><span class="mejs-captions-text"></span></div></div>').prependTo(layers).hide();player.captionsText=player.captions.find('.mejs-captions-text');player.captionsButton=$('<div class="mejs-button mejs-captions-button">'+'<button type="button" aria-controls="'+t.id+'" title="'+t.options.tracksText+'"></button>'+'<div class="mejs-captions-selector">'+'<ul>'+'<li>'+'<input type="radio" name="'+player.id+'_captions" id="'+player.id+'_captions_none" value="none" checked="checked" />'+'<label for="'+player.id+'_captions_none">None</label>'+'</li>'+'</ul>'+'</div>'+'</div>').appendTo(controls).hover(function(){$(this).find('.mejs-captions-selector').css('visibility','visible');},function(){$(this).find('.mejs-captions-selector').css('visibility','hidden');}).delegate('input[type=radio]','click',function(){lang=this.value;if(lang=='none'){player.selectedTrack=null;}else{for(i=0;i<player.tracks.length;i++){if(player.tracks[i].srclang==lang){player.selectedTrack=player.tracks[i];player.captions.attr('lang',player.selectedTrack.srclang);player.displayCaptions();break;}}}});if(!player.options.alwaysShowControls){player.container.bind('mouseenter',function(){player.container.find('.mejs-captions-position').addClass('mejs-captions-position-hover');}).bind('mouseleave',function(){if(!media.paused){player.container.find('.mejs-captions-position').removeClass('mejs-captions-position-hover');}});}else{player.container.find('.mejs-captions-position').addClass('mejs-captions-position-hover');}
player.trackToLoad=-1;player.selectedTrack=null;player.isLoadingTrack=false;if(player.tracks.length>0&&player.options.translations.length>0){for(i=0;i<player.options.translations.length;i++){player.tracks.push({srclang:player.options.translations[i].toLowerCase(),src:null,kind:'subtitles',entries:[],isLoaded:false,isTranslation:true});}}
for(i=0;i<player.tracks.length;i++){if(player.tracks[i].kind=='subtitles'){player.addTrackButton(player.tracks[i].srclang,player.tracks[i].isTranslation);}}
player.loadNextTrack();media.addEventListener('timeupdate',function(e){player.displayCaptions();},false);media.addEventListener('loadedmetadata',function(e){player.displayChapters();},false);player.container.hover(function(){if(player.hasChapters){player.chapters.css('visibility','visible');player.chapters.fadeIn(200);}},function(){if(player.hasChapters&&!media.paused){player.chapters.fadeOut(200,function(){$(this).css('visibility','hidden');$(this).css('display','block');});}});if(player.node.getAttribute('autoplay')!==null){player.chapters.css('visibility','hidden');}
if(player.options.translationSelector){for(i in mejs.language.codes){options+='<option value="'+i+'">'+mejs.language.codes[i]+'</option>';}
player.container.find('.mejs-captions-selector ul').before($('<select class="mejs-captions-translations">'+'<option value="">--Add Translation--</option>'+
options+'</select>'));player.container.find('.mejs-captions-translations').change(function(){var
option=$(this);lang=option.val();if(lang!=''){player.tracks.push({srclang:lang,src:null,entries:[],isLoaded:false,isTranslation:true});if(!player.isLoadingTrack){player.trackToLoad--;player.addTrackButton(lang,true);player.options.startLanguage=lang;player.loadNextTrack();}}});}},loadNextTrack:function(){var t=this;t.trackToLoad++;if(t.trackToLoad<t.tracks.length){t.isLoadingTrack=true;t.loadTrack(t.trackToLoad);}else{t.isLoadingTrack=false;}},loadTrack:function(index){var
t=this,track=t.tracks[index],after=function(){track.isLoaded=true;t.enableTrackButton(track.srclang);t.loadNextTrack();};if(track.isTranslation){mejs.TrackFormatParser.translateTrackText(t.tracks[0].entries,t.tracks[0].srclang,track.srclang,t.options.googleApiKey,function(newOne){track.entries=newOne;after();});}else{$.ajax({url:track.src,success:function(d){track.entries=mejs.TrackFormatParser.parse(d);after();if(track.kind=='chapters'&&t.media.duration>0){t.drawChapters(track);}},error:function(){t.loadNextTrack();}});}},enableTrackButton:function(lang){var t=this;t.captionsButton.find('input[value='+lang+']').prop('disabled',false).siblings('label').html(mejs.language.codes[lang]||lang);if(t.options.startLanguage==lang){$('#'+t.id+'_captions_'+lang).click();}
t.adjustLanguageBox();},addTrackButton:function(lang,isTranslation){var t=this,l=mejs.language.codes[lang]||lang;t.captionsButton.find('ul').append($('<li>'+'<input type="radio" name="'+t.id+'_captions" id="'+t.id+'_captions_'+lang+'" value="'+lang+'" disabled="disabled" />'+'<label for="'+t.id+'_captions_'+lang+'">'+l+((isTranslation)?' (translating)':' (loading)')+'</label>'+'</li>'));t.adjustLanguageBox();t.container.find('.mejs-captions-translations option[value='+lang+']').remove();},adjustLanguageBox:function(){var t=this;t.captionsButton.find('.mejs-captions-selector').height(t.captionsButton.find('.mejs-captions-selector ul').outerHeight(true)+
t.captionsButton.find('.mejs-captions-translations').outerHeight(true));},displayCaptions:function(){if(typeof this.tracks=='undefined')
return;var
t=this,i,track=t.selectedTrack;if(track!=null&&track.isLoaded){for(i=0;i<track.entries.times.length;i++){if(t.media.currentTime>=track.entries.times[i].start&&t.media.currentTime<=track.entries.times[i].stop){t.captionsText.html(track.entries.text[i]);t.captions.show();return;}}
t.captions.hide();}else{t.captions.hide();}},displayChapters:function(){var
t=this,i;for(i=0;i<t.tracks.length;i++){if(t.tracks[i].kind=='chapters'&&t.tracks[i].isLoaded){t.drawChapters(t.tracks[i]);t.hasChapters=true;break;}}},drawChapters:function(chapters){var
t=this,i,dur,percent=0,usedPercent=0;t.chapters.empty();for(i=0;i<chapters.entries.times.length;i++){dur=chapters.entries.times[i].stop-chapters.entries.times[i].start;percent=Math.floor(dur/t.media.duration*100);if(percent+usedPercent>100||i==chapters.entries.times.length-1&&percent+usedPercent<100)
{percent=100-usedPercent;}
t.chapters.append($('<div class="mejs-chapter" rel="'+chapters.entries.times[i].start+'" style="left: '+usedPercent.toString()+'%;width: '+percent.toString()+'%;">'+'<div class="mejs-chapter-block'+((i==chapters.entries.times.length-1)?' mejs-chapter-block-last':'')+'">'+'<span class="ch-title">'+chapters.entries.text[i]+'</span>'+'<span class="ch-time">'+mejs.Utility.secondsToTimeCode(chapters.entries.times[i].start)+'&ndash;'+mejs.Utility.secondsToTimeCode(chapters.entries.times[i].stop)+'</span>'+'</div>'+'</div>'));usedPercent+=percent;}
t.chapters.find('div.mejs-chapter').click(function(){t.media.setCurrentTime(parseFloat($(this).attr('rel')));if(t.media.paused){t.media.play();}});t.chapters.show();}});mejs.language={codes:{af:'Afrikaans',sq:'Albanian',ar:'Arabic',be:'Belarusian',bg:'Bulgarian',ca:'Catalan',zh:'Chinese','zh-cn':'Chinese Simplified','zh-tw':'Chinese Traditional',hr:'Croatian',cs:'Czech',da:'Danish',nl:'Dutch',en:'English',et:'Estonian',tl:'Filipino',fi:'Finnish',fr:'French',gl:'Galician',de:'German',el:'Greek',ht:'Haitian Creole',iw:'Hebrew',hi:'Hindi',hu:'Hungarian',is:'Icelandic',id:'Indonesian',ga:'Irish',it:'Italian',ja:'Japanese',ko:'Korean',lv:'Latvian',lt:'Lithuanian',mk:'Macedonian',ms:'Malay',mt:'Maltese',no:'Norwegian',fa:'Persian',pl:'Polish',pt:'Portuguese',ro:'Romanian',ru:'Russian',sr:'Serbian',sk:'Slovak',sl:'Slovenian',es:'Spanish',sw:'Swahili',sv:'Swedish',tl:'Tagalog',th:'Thai',tr:'Turkish',uk:'Ukrainian',vi:'Vietnamese',cy:'Welsh',yi:'Yiddish'}};mejs.TrackFormatParser={pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,split2:function(text,regex){return text.split(regex);},parse:function(trackText){var
i=0,lines=this.split2(trackText,/\r?\n/),entries={text:[],times:[]},timecode,text;for(;i<lines.length;i++){if(this.pattern_identifier.exec(lines[i])){i++;timecode=this.pattern_timecode.exec(lines[i]);if(timecode&&i<lines.length){i++;text=lines[i];i++;while(lines[i]!==''&&i<lines.length){text=text+'\n'+lines[i];i++;}
entries.text.push(text);entries.times.push({start:mejs.Utility.timeCodeToSeconds(timecode[1]),stop:mejs.Utility.timeCodeToSeconds(timecode[3]),settings:timecode[5]});}}}
return entries;},translateTrackText:function(trackData,fromLang,toLang,googleApiKey,callback){var
entries={text:[],times:[]},lines,i;this.translateText(trackData.text.join(' <a></a>'),fromLang,toLang,googleApiKey,function(result){lines=result.split('<a></a>');for(i=0;i<trackData.text.length;i++){entries.text[i]=lines[i];entries.times[i]={start:trackData.times[i].start,stop:trackData.times[i].stop,settings:trackData.times[i].settings};}
callback(entries);});},translateText:function(text,fromLang,toLang,googleApiKey,callback){var
separatorIndex,chunks=[],chunk,maxlength=1000,result='',nextChunk=function(){if(chunks.length>0){chunk=chunks.shift();mejs.TrackFormatParser.translateChunk(chunk,fromLang,toLang,googleApiKey,function(r){if(r!='undefined'){result+=r;}
nextChunk();});}else{callback(result);}};while(text.length>0){if(text.length>maxlength){separatorIndex=text.lastIndexOf('.',maxlength);chunks.push(text.substring(0,separatorIndex));text=text.substring(separatorIndex+1);}else{chunks.push(text);text='';}}
nextChunk();},translateChunk:function(text,fromLang,toLang,googleApiKey,callback){var data={q:text,langpair:fromLang+'|'+toLang,v:'1.0'};if(googleApiKey!==''&&googleApiKey!==null){data.key=googleApiKey;}
$.ajax({url:'https://ajax.googleapis.com/ajax/services/language/translate',data:data,type:'GET',dataType:'jsonp',success:function(d){callback((d.responseData!==null)?d.responseData.translatedText:'No translation');},error:function(e){callback(null);}});}};if('x\n\ny'.split(/\n/gi).length!=3){mejs.TrackFormatParser.split2=function(text,regex){var
parts=[],chunk='',i;for(i=0;i<text.length;i++){chunk+=text.substring(i,i+1);if(regex.test(chunk)){parts.push(chunk.replace(regex,''));chunk='';}}
parts.push(chunk);return parts;};}})(mejs.$);(function($){$.extend(mejs.MepDefaults,contextMenuItems=[{render:function(player){if(typeof player.enterFullScreen=='undefined')
return null;if(player.isFullScreen){return"Turn off Fullscreen";}else{return"Go Fullscreen";}},click:function(player){if(player.isFullScreen){player.exitFullScreen();}else{player.enterFullScreen();}}},{render:function(player){if(player.media.muted){return"Unmute";}else{return"Mute";}},click:function(player){if(player.media.muted){player.setMuted(false);}else{player.setMuted(true);}}},{isSeparator:true},{render:function(player){return"Download Video";},click:function(player){window.location.href=player.media.currentSrc;}}]);$.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(player,controls,layers,media){player.contextMenu=$('<div class="mejs-contextmenu"></div>').appendTo($('body')).hide();player.container.bind('contextmenu',function(e){if(player.isContextMenuEnabled){e.preventDefault();player.renderContextMenu(e.clientX-1,e.clientY-1);return false;}});player.container.bind('click',function(){player.contextMenu.hide();});player.contextMenu.bind('mouseleave',function(){player.startContextMenuTimer();});},isContextMenuEnabled:true,enableContextMenu:function(){this.isContextMenuEnabled=true;},disableContextMenu:function(){this.isContextMenuEnabled=false;},contextMenuTimeout:null,startContextMenuTimer:function(){var t=this;t.killContextMenuTimer();t.contextMenuTimer=setTimeout(function(){t.hideContextMenu();t.killContextMenuTimer();},750);},killContextMenuTimer:function(){var timer=this.contextMenuTimer;if(timer!=null){clearTimeout(timer);delete timer;timer=null;}},hideContextMenu:function(){this.contextMenu.hide();},renderContextMenu:function(x,y){var t=this,html='',items=t.options.contextMenuItems;for(var i=0,il=items.length;i<il;i++){if(items[i].isSeparator){html+='<div class="mejs-contextmenu-separator"></div>';}else{var rendered=items[i].render(t);if(rendered!=null){html+='<div class="mejs-contextmenu-item" data-itemindex="'+i+'" id="element-'+(Math.random()*1000000)+'">'+rendered+'</div>';}}}
t.contextMenu.empty().append($(html)).css({top:y,left:x}).show();t.contextMenu.find('.mejs-contextmenu-item').each(function(){var $dom=$(this),itemIndex=parseInt($dom.data('itemindex'),10),item=t.options.contextMenuItems[itemIndex];if(typeof item.show!='undefined')
item.show($dom,t);$dom.click(function(){if(typeof item.click!='undefined')
item.click(t);t.contextMenu.hide();});});setTimeout(function(){t.killControlsTimer('rev3');},100);}});})(mejs.$);